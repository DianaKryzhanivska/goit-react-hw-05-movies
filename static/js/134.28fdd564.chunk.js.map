{"version":3,"file":"static/js/134.28fdd564.chunk.js","mappings":"geAgDA,UAzCe,WACb,IAAAA,GAAmCC,EAAAA,EAAAA,MAA3BC,EAAQF,EAARE,SAAUC,EAAYH,EAAZG,aAGlBC,GAAwCC,EAAAA,EAAAA,MAAiBC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAlDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAS9BI,EAAQF,EAAaG,IAAI,UAAY,GAGnCC,GAASC,EAAAA,EAAAA,GAAQC,EAAAA,GAAoBJ,GAArCE,KAIFG,GAAWC,EAAAA,EAAAA,MAEjB,OACEC,EAAAA,EAAAA,MAACC,EAAiB,CAAAC,SAAA,EAChBF,EAAAA,EAAAA,MAACG,EAAU,CAACC,SAAUlB,GAjBX,SAAAS,GAEbH,EAAgBG,EAAKU,UAAY,CAAEZ,MAAOE,EAAKU,UACjD,IAc+CH,SAAA,EACzCI,EAAAA,EAAAA,KAACC,GAAWC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKvB,EAAS,aAAW,IAAEwB,KAAK,WAC5CH,EAAAA,EAAAA,KAACI,EAAgB,CAAAR,SAAC,eAEpBI,EAAAA,EAAAA,KAACK,EAAe,CAAAT,SACT,OAAJP,QAAI,IAAJA,OAAI,EAAJA,EAAMiB,KAAI,SAAAC,GAAK,OACdP,EAAAA,EAAAA,KAACQ,EAAe,CAAAZ,UACdI,EAAAA,EAAAA,KAACS,EAAAA,GAAI,CAACC,MAAO,CAAEC,KAAMnB,GAAYoB,GAAIL,EAAMM,GAAGC,WAAWlB,SACtDW,EAAMQ,SAFWR,EAAMM,GAIV,QAK5B,EAIO,IAAMlB,EAAoBqB,EAAAA,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,8BAI9BrB,EAAamB,EAAAA,GAAAA,KAAWG,IAAAA,GAAAD,EAAAA,EAAAA,GAAA,qDAKxBjB,EAAce,EAAAA,GAAAA,MAAYI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,mEAM1Bd,EAAmBY,EAAAA,GAAAA,OAAaK,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,kIAShCb,EAAkBW,EAAAA,GAAAA,GAASM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,qEAM3BV,EAAkBQ,EAAAA,GAAAA,GAASO,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,6B","sources":["pages/Movies.jsx"],"sourcesContent":["import { useHttp } from 'hooks/useHttp';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchMovieBySearch } from 'services/api';\nimport { styled } from 'styled-components';\n\nconst Movies = () => {\n  const { register, handleSubmit } = useForm();\n\n  // 1. Використовуємо хук для зміни URL, отримуємо параметри, та функцію, котра ставить ці параметри\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  // 2. При використанні сабміта, встановлюємо параметр query в наш url\n  const submit = data => {\n    // console.log(data);\n    setSearchParams(data.queryStr && { query: data.queryStr });\n  };\n\n  // 3. Витягуємо query з нашого url через першу сутність хука useSearchParams\n  const query = searchParams.get('query') || '';\n\n  // 4. Робимо запит через власний хук useHttp, передаючи туди query в якості параметра пошуку\n  const { data } = useHttp(fetchMovieBySearch, query);\n\n  // 5. Створюємо об'єкт location, для того, щоб отримати поточний стан нашого url\n  // Це необхідно для передачі location в компонент 'MovieDetails'\n  const location = useLocation();\n\n  return (\n    <StyledHomeWrapper>\n      <StyledForm onSubmit={handleSubmit(submit)}>\n        <StyledInput {...register('queryStr')} type=\"text\" />\n        <StyledFormButton>Search</StyledFormButton>\n      </StyledForm>\n      <StyledMovieList>\n        {data?.map(movie => (\n          <StyledMovieItem key={movie.id}>\n            <Link state={{ from: location }} to={movie.id.toString()}>\n              {movie.title}\n            </Link>\n          </StyledMovieItem>\n        ))}\n      </StyledMovieList>\n    </StyledHomeWrapper>\n  );\n};\n\nexport default Movies;\n\nexport const StyledHomeWrapper = styled.div`\n  padding: 0 40px;\n`;\n\nexport const StyledForm = styled.form`\n  margin-top: 30px;\n  margin-left: 40px;\n`;\n\nexport const StyledInput = styled.input`\n  width: 200px;\n  height: 24px;\n  margin-right: 15px;\n`;\n\nexport const StyledFormButton = styled.button`\n  width: 80px;\n  height: 28px;\n  font-size: 16px;\n  background-color: #fff;\n  border: none;\n  border-radius: 4px;\n`;\n\nexport const StyledMovieList = styled.ol`\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n`;\n\nexport const StyledMovieItem = styled.li`\n  font-size: 18px;\n`;\n"],"names":["_useForm","useForm","register","handleSubmit","_useSearchParams","useSearchParams","_useSearchParams2","_slicedToArray","searchParams","setSearchParams","query","get","data","useHttp","fetchMovieBySearch","location","useLocation","_jsxs","StyledHomeWrapper","children","StyledForm","onSubmit","queryStr","_jsx","StyledInput","_objectSpread","type","StyledFormButton","StyledMovieList","map","movie","StyledMovieItem","Link","state","from","to","id","toString","title","styled","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6"],"sourceRoot":""}